<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="JakaToPiosenka.RankingPage"
             BackgroundColor="#333333"
             NavigationPage.HasNavigationBar="false">


   
    <Frame BorderColor="#696968" BackgroundColor="#696968" Padding="5" Margin="15" CornerRadius="20">

        <StackLayout Padding="5" Spacing="15">
            <Grid>
                <!-- Definicje kolumn -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="3*" />
                    <ColumnDefinition Width="*" />
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="0.1*"/>
                    <RowDefinition Height="5*"/>
                    <RowDefinition Height="*"/>
                    <RowDefinition Height="0.6"/>
                </Grid.RowDefinitions>
                <BoxView Color="#d1d1cf" HeightRequest="1" HorizontalOptions="FillAndExpand" Scale="3" Grid.ColumnSpan="4" Grid.Row="3"/>

                <Button Text="X" BackgroundColor="Transparent" TextColor="White" FontSize="30" VerticalOptions="Start" HorizontalOptions="End" Clicked="Button_Clicked" Grid.Row="0" Grid.Column="2" Grid.ColumnSpan="2" Grid.RowSpan="2" />

                <Image Source="zgdulalogo.png" Scale="0.7" VerticalOptions="End" Grid.Row="1" Grid.ColumnSpan="4"/>


                <!-- Nagłówek -->
                <Label Text="Ranking Graczy" 
               FontSize="36" 
               TextColor="#e0e0e0"
               HorizontalOptions="Center"
               Margin="0,-20,0,10" 
               Grid.ColumnSpan="4"
               Grid.Row="2"
               HorizontalTextAlignment="Center"
               VerticalTextAlignment="Center"/>

            </Grid>
           
            <Grid Padding="10" ColumnSpacing="10" BackgroundColor="#adadac">
                <!-- Definicje kolumn -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="0.65*" />
                    <!-- Miejsce -->
                    <ColumnDefinition Width="2*" />
                    <!-- Nazwa -->
                    <ColumnDefinition Width="1.3*" />
                    <!-- Liczba gier -->
                    <ColumnDefinition Width="*" />
                    <!-- Punkty -->
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>
                <Label FontAttributes="Bold" Text="Nr" FontSize="20" TextColor="White" Grid.Column="0" HeightRequest="40" HorizontalOptions="Center"/>
                <Label FontAttributes="Bold" Text="Nazwa" FontSize="20" TextColor="White" Grid.Column="1"/>
                <Label FontAttributes="Bold" Text="Gry" FontSize="20" TextColor="White" Grid.Column="2" HorizontalOptions="Center"/>
                <Label FontAttributes="Bold" Text="Punkty" FontSize="20" TextColor="White" Grid.Column="3"/>

            </Grid>


            <CollectionView x:Name="RankingList" 
                ItemsSource="{Binding PlayersRanked}" 
                SelectionMode="None">
                <CollectionView.ItemTemplate>
                    <DataTemplate>
                        <Grid Padding="5" ColumnSpacing="15" BackgroundColor="#adadac">
                            <!-- Definicje kolumn -->
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="3.5*" />
                                <ColumnDefinition Width="2*" />
                                <ColumnDefinition Width="2*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*" />
                                <RowDefinition Height="0.1*" />
                            </Grid.RowDefinitions>

                            <!-- Miejsce w rankingu -->
                            <Frame Grid.Column="0"
                       CornerRadius="10" 
                       Padding="7" 
                       WidthRequest="35"
                       BackgroundColor="{Binding BackgroundColor}"
                       HorizontalOptions="Center">
                                <Label Text="{Binding Place}" 
                           FontSize="25" 
                           TextColor="White" 
                           HorizontalTextAlignment="Center"
                           VerticalTextAlignment="Center"
                           FontAttributes="Bold"/>
                            </Frame>

                            <!-- Nazwa gracza -->
                            <Label Grid.Column="1"
                       Text="{Binding Name}" 
                       FontSize="20" 
                       VerticalOptions="Center" 
                       TextColor="#333" 
                       HorizontalOptions="StartAndExpand"
                       FontAttributes="Bold"/>

                            <!-- Liczba gier -->
                            <Label Grid.Column="2"
                       Text="{Binding GamesNumber}" 
                       FontSize="25" 
                       VerticalOptions="Center" 
                       TextColor="#1e90ff" 
                       HorizontalOptions="Center"
                       FontAttributes="Bold"/>

                            <!-- Punkty -->
                            <Label Grid.Column="3"
                       Text="{Binding Points}" 
                       FontSize="25" 
                       VerticalOptions="Center" 
                       TextColor="#ff4500" 
                       HorizontalOptions="Center"
                       FontAttributes="Bold"/>
                            <BoxView Color="#d1d1cf" HeightRequest="1" HorizontalOptions="FillAndExpand" Grid.ColumnSpan="4" Grid.Row="1"/>
                        </Grid>
                    </DataTemplate>
                </CollectionView.ItemTemplate>
            </CollectionView>

        </StackLayout>
    </Frame>
</ContentPage>
